<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Document Assistant</title> <!-- More generic title -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-header">
        <div class="app-title">AI Document Assistant</div>
        <nav class="app-nav">
            <a href="#mydocuments" id="nav-mydocuments" class="nav-link">My Documents</a>
            <a href="#onepager" id="nav-onepager" class="nav-link active">One Pager</a>
            <a href="#briefing" id="nav-briefing" class="nav-link">Briefing</a>
            <a href="#report" id="nav-report" class="nav-link">Report</a>
        </nav>
        <div class="app-controls">
            <!-- This button might be dynamic or we add more later -->
            <button id="new-document-button">New Document</button>
        </div>
    </div>

    <div id="mydocuments-view" class="view-section">
        <div class="documents-list-container">
            <h2>My Saved One-Pagers</h2>
            <div id="loading-documents-message" style="display:none;">Loading documents...</div>
            <ul id="documents-list">
                
            </ul>
            <p id="no-documents-message" style="display:none;">You haven't saved any one-pagers yet.</p>
        </div>
    </div>

    <!-- Section for "One Pager" feature -->
    <div id="onepager-view" class="view-section active-view">
        <div class="container">
            <div class="chat-panel" id="one-pager-chat-panel">
                <div id="one-pager-chat-messages" class="chat-messages-area"></div>
                <div class="chat-input-area">
                    <input type="text" id="one-pager-chat-input" placeholder="Type 'start' or your refinement...">
                    <button id="one-pager-send-button">Send</button>
                </div>
            </div>
            <div class="one-pager-panel" id="one-pager-output-panel">
                <div class="panel-header">
                    <h2>Project One-Pager</h2>
                    <div class="panel-header-controls">
                        <button id="one-pager-save-button" title="Save One-Pager">Save One Pager</button>
                        <button id="one-pager-copy-button" title="Copy One-Pager Markdown">Copy to Clipboard</button>
                    </div>
                </div>
                <div id="one-pager-output-content" class="markdown-content"></div>
            </div>
        </div>
    </div>

    <!-- Section for "Briefing" feature -->
    <div id="briefing-view" class="view-section">
        <div id="briefing-input-one-pager-section" class="initial-input-section">
            <h2>Provide Your Existing One-Pager for Briefing</h2>
            <textarea id="briefing-one-pager-input-area" placeholder="Paste your one-pager content here..."></textarea>
            <button id="briefing-submit-one-pager-button">Load One-Pager & Start Briefing</button>
        </div>
        <div class="container" id="briefing-main-ui" style="display:none;"> <!-- Initially hidden -->
            <div class="chat-panel" id="briefing-chat-panel">
                <div id="briefing-chat-messages" class="chat-messages-area"></div>
                <div class="chat-input-area">
                    <input type="text" id="briefing-chat-input" placeholder="Specify audience for briefing...">
                    <button id="briefing-send-button">Send</button>
                </div>
            </div>
            <div class="one-pager-panel" id="briefing-output-panel"> <!-- Re-using class, specific ID -->
                <div class="panel-header">
                    <h2 id="briefing-title">Generated Briefing</h2>
                    <button id="briefing-copy-button" title="Copy Briefing Markdown">Copy to Clipboard</button>
                </div>
                <div id="briefing-output-content" class="markdown-content"></div>
            </div>
        </div>
    </div>

    <!-- Section for "Report" feature (Placeholder for now) -->
    <div id="report-view" class="view-section">
        <div class="container"> <!-- Use the same .container for layout -->
            <div class="chat-panel" id="report-chat-panel">
                <div id="report-chat-messages" class="chat-messages-area">
                    <!-- Report chat messages will be appended here -->
                </div>
                <div class="chat-input-area">
                    <input type="text" id="report-chat-input" placeholder="Describe the report you need...">
                    <button id="report-send-button">Send</button>
                </div>
            </div>
            <div class="one-pager-panel" id="report-output-panel"> <!-- Re-using .one-pager-panel for styling consistency -->
                <div class="panel-header">
                    <h2 id="report-title">Generated Report</h2>
                    <button id="report-copy-button" title="Copy Report Markdown">Copy to Clipboard</button>
                </div>
                <div id="report-output-content" class="markdown-content">
                    <!-- Report Markdown will be rendered here -->
                    <p><em>Your generated report will appear here...</em></p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="script.js"></script> <!-- We'll use one main script.js and make it modular -->
</body>
</html>